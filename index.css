@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 20px; border: 2px solid transparent; background-clip: content-box; }
::-webkit-scrollbar-thumb:hover { background: #cbd5e1; border: 2px solid transparent; background-clip: content-box; }

:root {
  --primary: #4f46e5; /* Indigo 600 - Mais vibrante e moderno */
  --primary-hover: #4338ca;
  --primary-soft: rgba(79, 70, 229, 0.05);
  --accent: #6366f1;
  --app-footer-height: 72px;
}

/* Minimal Dark Theme Overrides (applied when .theme-dark is present on <html>) */
.theme-dark {
  --bg: #020617; /* Deep Midnight Blue */
  --panel: #0f172a;
  --card: #0f172a;
  --border: #1e293b;
  --text-primary: #f8fafc;
  --text-secondary: #94a3b8;
  --muted: #64748b;
  --input-bg: #020617;
  --btn-primary: #4f46e5;
}

.theme-dark body {
  background-color: var(--bg) !important;
  color: var(--text-primary) !important;
}

.theme-dark .card,
.theme-dark .card-hover,
.theme-dark .rounded-2xl,
.theme-dark .bg-white {
  background-color: var(--card) !important;
  color: var(--text-primary) !important;
  border-color: var(--border) !important;
}

.theme-dark input,
.theme-dark textarea,
.theme-dark select {
  background-color: var(--input-bg) !important;
  color: var(--text-primary) !important;
  border-color: var(--border) !important;
}

.theme-dark .btn-primary {
  background-color: var(--btn-primary) !important;
  color: #062024 !important;
}

.theme-dark .btn-secondary {
  background-color: #0b1220 !important;
  color: var(--text-primary) !important;
  border-color: var(--border) !important;
}

.theme-dark .text-slate-900 { color: var(--text-primary) !important; }
.theme-dark .text-slate-800 { color: var(--text-primary) !important; }
.theme-dark .text-slate-700 { color: var(--text-secondary) !important; }
.theme-dark .text-slate-500 { color: var(--muted) !important; }

/* Wider utility overrides for Tailwind-like classes used across the app */
.theme-dark .bg-white { background-color: var(--card) !important; }
.theme-dark .bg-slate-50 { background-color: var(--panel) !important; }
.theme-dark .bg-slate-100 { background-color: #0b1226 !important; }
.theme-dark .bg-blue-50 { background-color: #071428 !important; }

.theme-dark .border-slate-100,
.theme-dark .border-slate-200,
.theme-dark .border-slate-300 { border-color: var(--border) !important; }

.theme-dark .shadow-sm {
  box-shadow: 0 6px 18px rgba(2,6,23,0.6) !important;
}

/* Buttons and input affordances */
.theme-dark .btn-ghost, .theme-dark .btn-secondary {
  background-color: transparent !important;
  color: var(--text-primary) !important;
  border-color: var(--border) !important;
}

.theme-dark .badge, .theme-dark .badge-info, .theme-dark .badge-success {
  background-color: rgba(255,255,255,0.03) !important;
  color: var(--text-primary) !important;
  border: 1px solid rgba(255,255,255,0.03) !important;
}

/* Ensure large headings contrast */
.theme-dark .text-display, .theme-dark .text-h1, .theme-dark .text-h2, .theme-dark .text-h3, .theme-dark .text-h4 {
  color: var(--text-primary) !important;
}

/* Special case for cards that use bg-gradient utilities (keep subtle) */
.theme-dark .bg-gradient-to-br,
.theme-dark .bg-gradient-to-r {
  background-image: none !important;
  background-color: var(--panel) !important;
}

/* Stronger overrides for panels, cards and rounded containers */
.theme-dark .rounded-3xl,
.theme-dark .rounded-2xl,
.theme-dark .card,
.theme-dark .card-hover {
  background-color: var(--card) !important;
  border-color: var(--border) !important;
}

/* Make light text variants readable on dark backgrounds */
.theme-dark .text-blue-100 { color: var(--text-primary) !important; }
.theme-dark .text-blue-700 { color: var(--text-secondary) !important; }
.theme-dark .text-amber-600 { color: #f59e0b !important; }
.theme-dark .text-emerald-700 { color: #10b981 !important; }

/* Sidebar specific helpers (common patterns) */
.theme-dark .sidebar,
.theme-dark .left-rail,
.theme-dark .menu-panel {
  background-color: #071022 !important;
  color: var(--text-primary) !important;
  border-right: 1px solid var(--border) !important;
}

/* Ensure header bars and hero sections contrast */
.theme-dark .hero,
.theme-dark .page-hero,
.theme-dark .page-header,
.theme-dark .card-header {
  background-color: #071428 !important;
  color: var(--text-primary) !important;
}

/* Links and small UI controls */
.theme-dark a { color: #9fc5e8 !important; }
.theme-dark .text-link { color: #9fc5e8 !important; }

/* Make muted small text lighter in dark mode */
.theme-dark .text-\[11px\],
.theme-dark .text-xs,
.theme-dark .text-\[10px\] { color: var(--text-secondary) !important; }


html,
body,
#root {
  height: 100%;
}
body {
  margin: 0;
  font-family: 'Space Grotesk', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  letter-spacing: -0.3px;
  overflow: hidden; /* Evita que o body role quando o layout principal estÃ¡ ativo */
}

/* Permitir rolagem em pÃ¡ginas sem o layout principal (como login) atravÃ©s de contÃªineres especÃ­ficos */
.scroll-container {
  height: 100%;
  overflow-y: auto;
}

.page-with-footer {
  padding-bottom: var(--app-footer-height);
}

/* Design System Profissional - Fonte Ãšnica de Verdade */
@layer components {
  /* ========== TIPOGRAFIA ========== */
  .text-display {
    @apply text-3xl font-bold text-slate-900 tracking-tight;
  }
  .text-h1 {
    @apply text-2xl font-bold text-slate-900 tracking-tight;
  }
  .text-h2 {
    @apply text-xl font-bold text-slate-900;
  }
  .text-h3 {
    @apply text-lg font-semibold text-slate-900;
  }
  .text-h4 {
    @apply text-base font-semibold text-slate-800;
  }
  .text-body {
    @apply text-sm font-normal text-slate-700;
  }
  .text-body-lg {
    @apply text-base font-normal text-slate-700;
  }
  .text-body-sm {
    @apply text-xs font-normal text-slate-600;
  }
  .text-label {
    @apply text-sm font-medium text-slate-600;
  }
  .text-label-strong {
    @apply text-sm font-semibold text-slate-800;
  }
  .text-caption {
    @apply text-xs font-medium text-slate-500 uppercase tracking-wide;
  }

  /* ========== BOTÃ•ES PADRONIZADOS ========== */
  .btn {
    @apply inline-flex items-center justify-center gap-1.5 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed min-w-0 text-center;
  }

  .btn-primary {
    @apply btn px-4 py-2.5 text-sm bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-600/20 active:scale-95 transition-all;
  }

  .btn-secondary {
    @apply btn px-4 py-2.5 text-sm bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 hover:border-slate-300;
  }

  .btn-danger {
    @apply btn px-4 py-2.5 text-sm bg-rose-600 text-white hover:bg-rose-700 shadow-lg shadow-rose-600/20;
  }

  .btn-ghost {
    @apply btn px-4 py-2.5 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-100;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }
  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  /* ========== CARDS ========== */
  .card {
    @apply bg-white border border-slate-200/60 rounded-2xl shadow-sm transition-all duration-200;
  }

  .card-hover {
    @apply card hover:shadow-lg hover:shadow-slate-200/50 hover:border-slate-300/50 hover:-translate-y-0.5 transition-all duration-300;
  }

  /* ========== INPUTS ========== */
  input,
  textarea,
  select {
    @apply bg-white border border-slate-200 rounded-xl text-sm font-normal text-slate-900 px-4 py-2.5 transition-all shadow-sm;
  }

  input::placeholder {
    @apply text-slate-400;
  }

  input:disabled,
  textarea:disabled,
  select:disabled {
    @apply bg-slate-50 text-slate-400 border-slate-100 opacity-100;
  }

  /* Focus states - Melhorado */
  input:focus,
  textarea:focus,
  select:focus {
    @apply outline-none ring-4 ring-indigo-500/10 border-indigo-500 shadow-md;
  }
  /* Buttons focus-visible for keyboard users */
  .btn:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-indigo-500;
  }

  /* Skip link (a11y) */
  .skip-link {
    @apply sr-only focus:not-sr-only absolute top-4 left-4 z-50 bg-white text-sm px-3 py-2 rounded shadow;
  }

  /* ========== BADGES E STATUS ========== */
  .badge {
    @apply inline-flex items-center gap-1.5 font-semibold uppercase tracking-wide rounded-full px-2 py-0.5 text-[10px];
  }

  .badge-success {
    @apply badge bg-emerald-100 text-emerald-700;
  }
  .badge-warning {
    @apply badge bg-amber-100 text-amber-700;
  }
  .badge-danger {
    @apply badge bg-rose-100 text-rose-700;
  }
  .badge-info {
    @apply badge bg-indigo-100 text-indigo-700;
  }
  .badge-neutral {
    @apply badge bg-slate-100 text-slate-600;
  }
}

/* small utility to hide scrollbar when necessary */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

@media print {
  @page {
    size: landscape;
    margin: 5mm;
  }

  /* Esconde elementos da interface */
  .no-print {
    display: none !important;
  }

  /* Para impressÃ£o de Ã¡rvore genealÃ³gica */
  body:has(#printable-pedigree.print-active) * {
    visibility: hidden;
  }

  body:has(#printable-pedigree.print-active) #printable-pedigree,
  body:has(#printable-pedigree.print-active) #printable-pedigree * {
    visibility: visible;
  }

  body:has(#printable-pedigree.print-active) #printable-pedigree {
    position: static;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  /* Para impressÃ£o de cartÃµes */
  body:has(#bird-card-front.print-active) * {
    visibility: hidden;
  }

  body:has(#bird-card-front.print-active) #bird-card-front,
  body:has(#bird-card-front.print-active) #bird-card-front *,
  body:has(#bird-card-front.print-active) #bird-card-back,
  body:has(#bird-card-front.print-active) #bird-card-back *,
  body:has(#bird-card-front.print-active) #bird-card-tree,
  body:has(#bird-card-front.print-active) #bird-card-tree * {
    visibility: visible;
  }

  body:has(#bird-card-front.print-active) #bird-card-front,
  body:has(#bird-card-front.print-active) #bird-card-back,
  body:has(#bird-card-front.print-active) #bird-card-tree {
    position: relative;
    width: 340px !important;
    height: 210px !important;
    margin: 5mm !important;
    display: inline-block !important;
    page-break-inside: avoid;
    vertical-align: top;
  }

  /* Lado a lado na impressÃ£o */
  body:has(#bird-card-front.print-active) .grid.grid-cols-3 {
    display: flex !important;
    flex-direction: row !important;
    gap: 5mm !important;
    page-break-inside: avoid;
  }
}



button { transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
button:active { transform: scale(0.96); }
